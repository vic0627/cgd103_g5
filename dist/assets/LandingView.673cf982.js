import{g as t,_ as q,r as F,o as O,a as R,b as m,c as b,d as i,F as L,e as P,u as k,f as I,w as A,t as E,p as U,h as J}from"./index.6ae1a9a2.js";import{S as K,F as Q,W as Z,A as $,P as tt,a as ot,M as et,b as nt,C as W,c as H,d as at,D as it,G as st,e as dt,f as rt,g as lt}from"./GLTFLoader.6db9d3a9.js";import{d as ct,u as ut,x as z,y as C}from"./useMousePosition.f07d0802.js";const G=window.innerWidth,N=window.innerHeight;let V,s,_,e,M,w,r,f,u,p;function pt(){V=document.querySelector("#land3d"),s=new K,s.fog=new Q(s.background,1,1e3),_=new Z({canvas:V,antialias:!0}),_.shadowMap.enabled=!0,_.toneMapping=$,_.setSize(G,N),e=new tt(60,G/N,.001,1e3),e.position.set(0,.01,10);const h=new ot(60,60),y=new et({color:16777215,roughness:0,metalness:.9});let d=new nt(h,y);d.rotation.x=-.5*Math.PI,d.position.set(0,-.5,0),d.castShadow=!0,d.receiveShadow=!0,s.add(d);const v=new W(16777215),S=new W(32763);u=new H(v,0,10,.3,1,0),u.position.set(0,15,0),u.castShadow=!0,u.shadow.focus=1,r&&(u.target=r),s.add(u),p=new H(S,1,10,.1,1,0),p.position.set(0,15,0),p.castShadow=!0,p.shadow.focus=1,r&&(p.target=r),s.add(p);let x=new at(16777215,.1);s.add(x),f=new it(15641190,.5),f.position.set(0,.5,1.2),s.add(f),new st().load(ct,function(l){r=l.scene,r.position.set(0,0,0),r.scale.set(1,1,1),M=new dt(r);const B=l.animations,n=rt.findByName(B,"exploded_view");w=M.clipAction(n),w.play(),w.paused=!0,r.traverse(function(o){o.isMesh&&(o.material.roughness=1,o.material.metalness=0,o.material.transparent=!1,o.castShadow=!0,o.receiveShadow=!0)}),s.add(l.scene)},void 0,function(l){console.error(l)})}function D(){w&&(w.paused=!1,w.play(),setTimeout(()=>{w.paused=!0},3230))}const ft=new lt;function j(){requestAnimationFrame(j),yt(),e.updateWorldMatrix(),e.updateProjectionMatrix(),M&&M.update(ft.getDelta())}function yt(){_.render(s,e)}function wt(){window.addEventListener("resize",function(){e.aspect=window.innerWidth/window.innerHeight,_.setSize(window.innerWidth,window.innerHeight)})}function X(){t.to(e.position,{x:0,y:1.5,z:1.5,duration:3}),t.to(e.rotation,{x:Math.PI/-7,y:0,z:0,duration:3}),t.to(e,{fov:120,duration:3}),t.to(u,{intensity:3,duration:3}),t.to(p,{intensity:0,duration:3}),t.to("#frontButtons",{opacity:0,duration:.5}),t.to("#frontButtons",{display:"none",duration:0,delay:.5}),t.to("#backButtons",{opacity:1,duration:.5,delay:3}),t.to("#backButtons",{display:"flex",duration:0,delay:3}),t.to("#frontTitle",{opacity:0,duration:.5}),t.to("#frontTitle",{display:"none",duration:0,delay:.5}),t.to("#backTitle",{display:"block",duration:0,delay:2.5}),t.to("#backTitle",{opacity:1,duration:.5,delay:2.5}),t.to(f,{intensity:0,duration:3}),D()}function Y(){t.to(e.position,{x:0,y:.5,z:1.2,duration:3}),t.to(e.rotation,{x:0,y:Math.PI/-10,z:0,duration:3}),t.to(e,{fov:60,duration:3}),t.to(u,{intensity:0,duration:3}),t.to(p,{intensity:1,duration:3}),t.to("#backButtons",{opacity:0,duration:.5}),t.to("#backButtons",{display:"none",duration:0,delay:.5}),t.to("#frontButtons",{opacity:1,duration:.5,delay:3}),t.to("#frontButtons",{display:"flex",duration:0,delay:3}),t.to("#backTitle",{opacity:0,duration:.5}),t.to("#backTitle",{display:"none",duration:0,delay:.5}),t.to("#frontTitle",{display:"block",duration:0,delay:2.5}),t.to("#frontTitle",{opacity:1,duration:.5,delay:2.5}),t.to(f,{intensity:.5,duration:3}),D()}const g=h=>(U("data-v-9996d880"),h=h(),J(),h),ht=g(()=>i("canvas",{id:"land3d"},null,-1)),_t={id:"frontTitle"},gt={class:"buttons",id:"frontButtons"},mt=g(()=>i("span",null,"To Backstage",-1)),bt=[mt],xt=g(()=>i("span",null,"Enter",-1)),kt={id:"backTitle"},Mt={class:"buttons",id:"backButtons"},vt=g(()=>i("span",null,"To Frontstage",-1)),St=[vt],Tt=g(()=>i("span",null,"Enter",-1)),Bt=g(()=>i("p",{class:"announce"},"\u672C\u7DB2\u7AD9\u70BA\u7DEF\u80B2TibaMe_\u524D\u7AEF\u8A2D\u8A08\u5DE5\u7A0B\u5E2B\u73ED\u7B2C79\u671F\u5B78\u54E1\u5C08\u984C\u6210\u679C\u4F5C\u54C1\uFF0C\u672C\u5E73\u53F0\u50C5\u4F9B\u5B78\u7FD2\u3001\u5C55\u793A\u4E4B\u7528\u3002\u82E5\u6709\u62B5\u89F8\u6709\u95DC\u8457\u4F5C\u6B0A\uFF0C\u6216\u6709\u7B2C\u4E09\u4EBA\u4E3B\u5F35\u4FB5\u5BB3\u667A\u6167\u8CA1\u7522\u6B0A\u7B49\u60C5\u4E8B\uFF0C\u5747\u7531\u5B78\u54E1\u8CA0\u6CD5\u5F8B\u4E0A\u8CAC\u4EFB\uFF0C\u7DEF\u80B2\u516C\u53F8\u6982\u4E0D\u8CA0\u8CAC\u3002\u82E5\u6709\u4FB5\u6B0A\u7591\u616E\uFF0C\u60A8\u53EF\u4EE5\u79C1\u8A0A[\u7DEF\u80B2TibaMe]\uFF0C\u5F8C\u7E8C\u6703\u7531\u5C08\u4EBA\u5354\u52A9\u8655\u7406\u3002",-1)),Lt={__name:"LandingView",setup(h){const y=window.innerWidth,d=window.innerHeight;ut();const v=F([..."forestage"]),S=F([..."backstage"]);O(()=>{pt(),wt(),j(),y>1024&&window.addEventListener("mousemove",B),t.to(e.position,{x:0,y:.5,z:1.2,duration:3}),t.to(e.rotation,{x:0,y:Math.PI/-10,z:0,duration:3}),x("#frontTitle"),x("#frontButtons")});const x=n=>{t.from(n,{display:"none",opacity:0,duration:.5,delay:2.5})},T=n=>{if(y>1024){let o=(z-n.target.offsetLeft-n.target.parentNode.offsetLeft-24)*-1,c=(C-n.target.parentNode.offsetTop-27.5)*-1;t.to(n.target,{x:o,y:c,rotateX:-1.2*c+"deg",rotateY:2*o+"deg",duration:.3})}},l=n=>{t.to(n.target,{x:0,y:0,rotateX:0+"deg",rotateY:0+"deg",duration:1})},B=()=>{if(y>1024){let n=z*(5/y)-2.5,o=1-C*(2/d);t.to(f.position,{x:n,y:o,duration:.5});let c=(z-y/2)/3e4,a=(d-C-d/2)/3e4;f.intensity==.5?t.to(e.position,{x:c,y:.5+a,duration:1}):f.intensity==0&&t.to(e.position,{x:c*2,z:1.5+a*2,duration:1})}};return(n,o)=>{const c=R("router-link");return m(),b(L,null,[ht,i("h2",_t,[(m(!0),b(L,null,P(v.value,a=>(m(),b("span",{onMouseover:T,onMouseout:l,class:"spanH2",key:a},E(a),33))),128))]),i("div",gt,[i("a",{"data-title":"To Backstage",class:"btnSecond",onClick:o[0]||(o[0]=(...a)=>k(X)&&k(X)(...a))},bt),I(c,{to:"/home","data-title":"Enter",class:"btnMain"},{default:A(()=>[xt]),_:1})]),i("h2",kt,[(m(!0),b(L,null,P(S.value,a=>(m(),b("span",{onMouseover:T,onMouseout:l,class:"spanH2",key:a},E(a),33))),128))]),i("div",Mt,[i("a",{"data-title":"To Frontstage",class:"btnSecond",onClick:o[1]||(o[1]=(...a)=>k(Y)&&k(Y)(...a))},St),I(c,{to:"/backend","data-title":"Enter",class:"btnMain"},{default:A(()=>[Tt]),_:1})]),Bt],64)}}},Pt=q(Lt,[["__scopeId","data-v-9996d880"]]);export{Pt as default};
