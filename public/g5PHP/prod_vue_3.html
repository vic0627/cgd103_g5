<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<script src="https://cdnjs.cloudflare.com/ajax/libs/vue/2.0.1/vue.min.js"></script> 
	<title>董董購物網</title>
<style type="text/css">
a {text-decoration:none;}
a:hover{background-color:#bfbfbf;}
th,td {padding:2px;}
th {background-color: #bfbfef}
td {border-bottom:1px dotted deeppink;}
.money {text-align:right;}
</style>

</head>
<body>

<h2>迴圈結構 : v-for</h2>	
<table id="products" align="center">
	<tr bgcolor="#bfbfef">
		<th>會員編號</th>
		<th>帳號</th>
		<th>密碼</th>
		<th>姓</th>
		<th>名</th>
		<th>性別</th>
		<th>信箱</th>
	</tr>
	<tr v-for="memRow in memRows">
		<td>{{memRow.mem_no}}</td>
		<td>{{memRow.mem_acc}}</td>
		<td>{{memRow.mem_pw}}</td>
		<td>{{memRow.mem_first_name}}</td>
		<td>{{memRow.mem_last_name}}</td>
		<td>{{memRow.mem_gender}}</td>
		<td>{{memRow.mem_email}}</td>
	</tr>	
</table>
<script type="text/javascript">
	
let productsVue = new Vue({
	el:"#products",
	data:{
		memRows:[],
	},
	methods:{
		getProducts(){
			//取得商品資料
			let xhr = new XMLHttpRequest();
			xhr.onload = function(){
				if(xhr.status == 200){ //OK
					productsVue.memRows = JSON.parse(xhr.responseText);
				}
			}
			xhr.open("get", "getProducts.php", true);
			xhr.send(null);
		}
	},
	mounted:function(){
			this.getProducts();
		}
})

</script>

</body>
</html>